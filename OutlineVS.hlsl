//=============================================================================
//
// アウトライン頂点シェーダ処理 [OutlineVS.h]
// Author : RIKU TANEKAWA
//
//=============================================================================

//=============================================================================
// 定数バッファ
//=============================================================================
float4x4 g_mWorldViewProj; // ワールド × ビュー × プロジェクション
float    g_OutlineWidth;   // 輪郭の太さ

//=============================================================================
// 頂点シェーダ入力
//=============================================================================
struct VS_INPUT
{
    float4 Pos    : POSITION;
    float3 Normal : NORMAL;
};

//=============================================================================
// 頂点シェーダ出力
//=============================================================================
struct VS_OUTPUT
{
    float4 Pos : POSITION;
};

//=============================================================================
// 頂点シェーダ本体
//=============================================================================
VS_OUTPUT VSMain(VS_INPUT In)
{
    VS_OUTPUT Out;

    // 各頂点のローカル座標方向への拡大
    float4 pos = In.Pos + float4(In.Normal.xyz * g_OutlineWidth, 0);

    // WVP変換
    Out.Pos = mul(pos, g_mWorldViewProj);

    return Out;
}
